"use strict";(self.webpackChunkweather_app=self.webpackChunkweather_app||[]).push([[143],{76:(e,t,a)=>{a.d(t,{QU:()=>r,zP:()=>s,kV:()=>l,lq:()=>i,NG:()=>g,kC:()=>u,vx:()=>o,Nv:()=>h,vT:()=>n,x:()=>m,p4:()=>p,sr:()=>d,np:()=>c,AR:()=>y});const s=a.p+"assets/clearSky.asset.jpg",r=(a.p,a.p,a.p+"assets/brokenClouds.asset.jpg"),n=a.p+"assets/showerRain.asset.jpg",o=a.p+"assets/rain.asset.jpg",c=a.p+"assets/thunderstorm.asset.jpg",m=a.p+"assets/snow.asset.jpg",u=a.p+"assets/mist.asset.jpg",d=a.p+"assets/sunny.asset.svg",l=a.p+"assets/cloudy.asset.svg",i=a.p+"assets/drizzle.asset.svg",h=a.p+"assets/rain.asset.svg",p=a.p+"assets/snow.asset.svg",y=a.p+"assets/thunderstorm.asset.svg",g=a.p+"assets/fog.asset.svg",k=a.p+"assets/temp-feels-like.asset.svg",w=a.p+"assets/humidity.asset.svg",x=a.p+"assets/pressure.asset.svg",b=a.p+"assets/min-temp.asset.svg",q=a.p+"assets/max-temp.asset.svg",S=a.p+"assets/github-logo.asset.png";async function C(e){let t=await fetch(`http://api.openweathermap.org/data/2.5/weather?q=${e}&units=metric&cnt=5&APPID=a280ad62e485531769c9814cbc6bdfc8`,{mode:"cors"});if(!t.ok)throw f(t.status),new Error("an error has occured: "+t.status);{let e=await t.json();document.querySelector("#current-city").textContent=e.name,_(e.weather[0].main,".weather-area"),document.querySelector("#humidity").textContent=e.main.humidity+"%",document.querySelector("#pressure").textContent=e.main.pressure+" hPa",I(e)}}const v=async e=>{let t=await fetch(`http://api.openweathermap.org/data/2.5/forecast?q=${e}&units=metric&cnt=5&APPID=a280ad62e485531769c9814cbc6bdfc8`,{mode:"cors"});if(t.ok){let e=await t.json();$(e),M(e)}else f(t.status)},f=e=>{console.log("error box activated");let t=document.querySelector("#message-box");t.classList.remove("hide"),t.classList.add("show"),document.querySelector("#error-message").textContent=e},$=e=>{E(e.list[0].weather[0].main,"#forecast-weather-1"),E(e.list[1].weather[0].main,"#forecast-weather-2"),E(e.list[2].weather[0].main,"#forecast-weather-3"),E(e.list[3].weather[0].main,"#forecast-weather-4"),E(e.list[4].weather[0].main,"#forecast-weather-5")},M=e=>{document.querySelector("#day-1-max").textContent=`${Math.round(e.list[0].main.temp_max)}°`,document.querySelector("#day-1-avg").textContent=Math.round(e.list[0].main.temp)+"°",document.querySelector("#day-1-min").textContent=Math.round(e.list[0].main.temp_min)+"°",document.querySelector("#day-2-max").textContent=Math.round(e.list[1].main.temp_max)+"°",document.querySelector("#day-2-avg").textContent=Math.round(e.list[1].main.temp)+"°",document.querySelector("#day-2-min").textContent=Math.round(e.list[1].main.temp_min)+"°",document.querySelector("#day-3-max").textContent=Math.round(e.list[2].main.temp_max)+"°",document.querySelector("#day-3-avg").textContent=Math.round(e.list[2].main.temp)+"°",document.querySelector("#day-3-min").textContent=Math.round(e.list[2].main.temp_min)+"°",document.querySelector("#day-4-max").textContent=Math.round(e.list[3].main.temp_max)+"°",document.querySelector("#day-4-avg").textContent=Math.round(e.list[3].main.temp)+"°",document.querySelector("#day-4-min").textContent=Math.round(e.list[3].main.temp_min)+"°",document.querySelector("#day-5-max").textContent=Math.round(e.list[4].main.temp_max)+"°",document.querySelector("#day-5-avg").textContent=Math.round(e.list[4].main.temp)+"°",document.querySelector("#day-5-min").textContent=Math.round(e.list[4].main.temp_min)+"°"},_=(e,t)=>{let a=document.querySelector(`${t}`);switch(e){case"Clear":a.style.backgroundImage=`url(${s})`;break;case"Clouds":a.style.backgroundImage=`url(${r})`;break;case"Drizzle":a.style.backgroundImage=`url(${n})`;break;case"Rain":a.style.backgroundImage=`url(${o})`;break;case"Thunderstorm":a.style.backgroundImage=`url(${c})`;break;case"Snow":a.style.backgroundImage=`url(${m})`;break;case"Mist":case"Fog":a.style.backgroundImage=`url(${u})`;break;default:console.log("error while setting the background")}},I=e=>{document.querySelector("#today-temp-1").textContent=`${Math.round(e.main.temp)}°`,E(e.weather[0].main,"#today-temp-icon"),document.querySelector("#today-feel-1").textContent=`${Math.round(e.main.feels_like)}°`},E=(e,t)=>{let a=document.querySelector(`${t}`);switch(e){case"Clear":a.src=`${d}`;break;case"Clouds":a.src=`${l}`;break;case"Drizzle":a.src=`${i}`;break;case"Rain":a.src=`${h}`;break;case"Thunderstorm":a.src=`${y}`;break;case"Snow":a.src=`${p}`;break;case"Mist":case"Fog":a.src=`${g}`;break;default:console.log("error while setting the icons")}};document.querySelector("#site-logo").src=d,document.querySelector("#today-feel-icon").src=k,document.querySelector("#humidity-icon").src=w,document.querySelector("#pressure-icon").src=x,document.querySelector("#github-logo").src=S;let j=document.querySelectorAll(".max-temp"),L=document.querySelectorAll(".min-temp");j.forEach((e=>{e.src=q})),L.forEach((e=>{e.src=b})),window.addEventListener("DOMContentLoaded",(()=>{C("Berhida"),v("Berhida")})),document.getElementById("search").addEventListener("click",(()=>{C(document.getElementById("search-bar").value),v(document.getElementById("search-bar").value)})),document.querySelector("#search-bar").addEventListener("keyup",(e=>{e.preventDefault(),13===e.keyCode&&document.querySelector("#search").click()})),document.querySelector("#err-ok").addEventListener("click",(()=>{console.log("hiding msg box...");let e=document.querySelector("#message-box");e.classList.remove("show"),e.classList.add("hide")}))}},e=>{e(e.s=76)}]);