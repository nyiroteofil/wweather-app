(()=>{"use strict";var e={d:(t,a)=>{for(var s in a)e.o(a,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:a[s]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var a=e.g.document;if(!t&&a&&(a.currentScript&&(t=a.currentScript.src),!t)){var s=a.getElementsByTagName("script");s.length&&(t=s[s.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})(),e.d({},{QU:()=>a,zP:()=>t,kV:()=>u,lq:()=>m,NG:()=>y,kC:()=>c,vx:()=>r,Nv:()=>l,vT:()=>s,x:()=>n,p4:()=>d,sr:()=>i,np:()=>o,AR:()=>p});const t=e.p+"assets/clearSky.asset.jpg",a=(e.p,e.p,e.p+"assets/brokenClouds.asset.jpg"),s=e.p+"assets/showerRain.asset.jpg",r=e.p+"assets/rain.asset.jpg",o=e.p+"assets/thunderstorm.asset.jpg",n=e.p+"assets/snow.asset.jpg",c=e.p+"assets/mist.asset.jpg",i=e.p+"assets/sunny.asset.svg",u=e.p+"assets/cloudy.asset.svg",m=e.p+"assets/drizzle.asset.svg",l=e.p+"assets/rain.asset.svg",d=e.p+"assets/snow.asset.svg",p=e.p+"assets/thunderstorm.asset.svg",y=e.p+"assets/fog.asset.svg",h=e.p+"assets/temp-feels-like.asset.svg",g=e.p+"assets/humidity.asset.svg",b=e.p+"assets/pressure.asset.svg",w=e.p+"assets/min-temp.asset.svg",S=e.p+"assets/max-temp.asset.svg",x=e.p+"assets/github-logo.asset.png";async function q(e){let t=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&units=metric&cnt=5&APPID=a280ad62e485531769c9814cbc6bdfc8`,{mode:"cors"});if(!t.ok)throw v(t.status),new Error("an error has occured: "+t.status);{let e=await t.json();document.querySelector("#current-city").textContent=e.name,$(e.weather[0].main,".weather-area"),document.querySelector("#humidity").textContent=e.main.humidity+"%",document.querySelector("#pressure").textContent=e.main.pressure+" hPa",M(e)}}const k=async e=>{let t=await fetch(`https://api.openweathermap.org/data/2.5/forecast?q=${e}&units=metric&cnt=5&APPID=a280ad62e485531769c9814cbc6bdfc8`,{mode:"cors"});if(t.ok){let e=await t.json();f(e),C(e)}else v(t.status)},v=e=>{console.log("error box activated");let t=document.querySelector("#message-box");t.classList.remove("hide"),t.classList.add("show"),document.querySelector("#error-message").textContent=e},f=e=>{j(e.list[0].weather[0].main,"#forecast-weather-1"),j(e.list[1].weather[0].main,"#forecast-weather-2"),j(e.list[2].weather[0].main,"#forecast-weather-3"),j(e.list[3].weather[0].main,"#forecast-weather-4"),j(e.list[4].weather[0].main,"#forecast-weather-5")},C=e=>{document.querySelector("#day-1-max").textContent=`${Math.round(e.list[0].main.temp_max)}°`,document.querySelector("#day-1-avg").textContent=Math.round(e.list[0].main.temp)+"°",document.querySelector("#day-1-min").textContent=Math.round(e.list[0].main.temp_min)+"°",document.querySelector("#day-2-max").textContent=Math.round(e.list[1].main.temp_max)+"°",document.querySelector("#day-2-avg").textContent=Math.round(e.list[1].main.temp)+"°",document.querySelector("#day-2-min").textContent=Math.round(e.list[1].main.temp_min)+"°",document.querySelector("#day-3-max").textContent=Math.round(e.list[2].main.temp_max)+"°",document.querySelector("#day-3-avg").textContent=Math.round(e.list[2].main.temp)+"°",document.querySelector("#day-3-min").textContent=Math.round(e.list[2].main.temp_min)+"°",document.querySelector("#day-4-max").textContent=Math.round(e.list[3].main.temp_max)+"°",document.querySelector("#day-4-avg").textContent=Math.round(e.list[3].main.temp)+"°",document.querySelector("#day-4-min").textContent=Math.round(e.list[3].main.temp_min)+"°",document.querySelector("#day-5-max").textContent=Math.round(e.list[4].main.temp_max)+"°",document.querySelector("#day-5-avg").textContent=Math.round(e.list[4].main.temp)+"°",document.querySelector("#day-5-min").textContent=Math.round(e.list[4].main.temp_min)+"°"},$=(e,i)=>{let u=document.querySelector(`${i}`);switch(e){case"Clear":u.style.backgroundImage=`url(${t})`;break;case"Clouds":u.style.backgroundImage=`url(${a})`;break;case"Drizzle":u.style.backgroundImage=`url(${s})`;break;case"Rain":u.style.backgroundImage=`url(${r})`;break;case"Thunderstorm":u.style.backgroundImage=`url(${o})`;break;case"Snow":u.style.backgroundImage=`url(${n})`;break;case"Mist":case"Fog":u.style.backgroundImage=`url(${c})`;break;default:console.log("error while setting the background")}},M=e=>{document.querySelector("#today-temp-1").textContent=`${Math.round(e.main.temp)}°`,j(e.weather[0].main,"#today-temp-icon"),document.querySelector("#today-feel-1").textContent=`${Math.round(e.main.feels_like)}°`},j=(e,t)=>{let a=document.querySelector(`${t}`);switch(e){case"Clear":a.src=`${i}`;break;case"Clouds":a.src=`${u}`;break;case"Drizzle":a.src=`${m}`;break;case"Rain":a.src=`${l}`;break;case"Thunderstorm":a.src=`${p}`;break;case"Snow":a.src=`${d}`;break;case"Mist":case"Fog":a.src=`${y}`;break;default:console.log("error while setting the icons")}};document.querySelector("#site-logo").src=i,document.querySelector("#today-feel-icon").src=h,document.querySelector("#humidity-icon").src=g,document.querySelector("#pressure-icon").src=b,document.querySelector("#github-logo").src=x;let E=document.querySelectorAll(".max-temp"),I=document.querySelectorAll(".min-temp");E.forEach((e=>{e.src=S})),I.forEach((e=>{e.src=w})),window.addEventListener("DOMContentLoaded",(()=>{q("Berhida"),k("Berhida")})),document.getElementById("search").addEventListener("click",(()=>{q(document.getElementById("search-bar").value),k(document.getElementById("search-bar").value)})),document.querySelector("#search-bar").addEventListener("keyup",(e=>{e.preventDefault(),13===e.keyCode&&document.querySelector("#search").click()})),document.querySelector("#err-ok").addEventListener("click",(()=>{console.log("hiding msg box...");let e=document.querySelector("#message-box");e.classList.remove("show"),e.classList.add("hide")}))})();